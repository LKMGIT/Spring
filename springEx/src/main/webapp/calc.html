<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Calculator</title>
    <script type="text/javascript">
        function fn_cal() {
            const frmCal = document.forms.frmCal;

            const num1 = parseFloat(frmCal.num1.value.trim());
            const op   = frmCal.op.value.trim();
            const num2 = parseFloat(frmCal.num2.value.trim());

            if (Number.isNaN(num1) || Number.isNaN(num2)) {
                alert("숫자를 정확히 입력하세요.");
                return;
            }
            if (!['+','-','*','/'].includes(op)) {
                alert("지원하지 않는 연산자입니다. (+, -, *, / 만 가능)");
                return;
            }
            if (op === '/' && num2 === 0) {
                alert("0으로 나눌 수 없습니다.");
                return;
            }

            let result = 0;
            switch (op) {
                case '+': result = num1 + num2; break;
                case '-': result = num1 - num2; break;
                case '*': result = num1 * num2; break;
                case '/': result = num1 / num2; break;
            }

            // 서버에도 보내기 위해 hidden 필드에 담아 전송
            frmCal.result.value = String(result);

            frmCal.method = "get";
            frmCal.action = "calc";
            frmCal.submit();
        }
    </script>
</head>
<body>
<form name="frmCal">
    <input type="text" name="num1" placeholder="첫번째 숫자" required>
    <input type="text" name="op"   placeholder="연산자 (+, -, *, /)" required>
    <input type="text" name="num2" placeholder="두번째 숫자" required>

    <!-- 서버로 전송할 계산 결과 (클라이언트 미리계산값) -->
    <input type="hidden" name="result">

    <input type="button" onclick="fn_cal()" value="계산">
</form>
</body>
</html>
